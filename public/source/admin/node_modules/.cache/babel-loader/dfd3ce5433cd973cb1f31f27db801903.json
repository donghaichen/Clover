{"remainingRequest":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/home/donghai/Desktop/www/clover/public/source/admin/src/views/marketing/Link.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donghai/Desktop/www/clover/public/source/admin/src/views/marketing/Link.vue","mtime":1574999407000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.string.link\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      type: 'link',\n      uploadUrl: this.api.common.upload,\n      index: 1,\n      formDynamic: {\n        items: []\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.uploadUrl = this.uploadUrl + '?module=banner';\n    this.$axios.get(this.api.marketing.link).then(function (response) {\n      if (response.data.code == 0) {\n        _this.formDynamic.items = response.data.data;\n      } else {\n        _this.$Message.error('数据获取失败，请检查');\n      }\n    });\n  },\n  methods: {\n    // handleSuccess (response) {\n    //   var index = response.data.additional.index\n    //\n    //   this.formDynamic.items[index].src = response.data.url\n    //   this.$Message.success('上传成功')\n    // },\n    handleSubmit: function handleSubmit() {\n      var _this2 = this;\n\n      this.$axios.post(this.api.marketing.link, {\n        data: JSON.stringify(this.formDynamic.items)\n      }).then(function (response) {\n        if (response.data.code == 0) {\n          _this2.$Message.success('提交成功');\n        } else {\n          _this2.$Message.error('提交失败，请重试');\n        }\n      });\n    },\n    handleReset: function handleReset(name) {\n      this.$refs[name].resetFields();\n    },\n    handleAdd: function handleAdd() {\n      this.index++;\n      this.formDynamic.items.push({\n        value: '',\n        index: this.index,\n        status: 1\n      });\n    },\n    handleRemove: function handleRemove(index) {\n      this.formDynamic.items[index].status = 0;\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["Link.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,SAAA,EAAA,KAAA,GAAA,CAAA,MAAA,CAAA,MAFA;AAGA,MAAA,KAAA,EAAA,CAHA;AAIA,MAAA,WAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA;AAJA,KAAA;AASA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AACA,SAAA,SAAA,GAAA,KAAA,SAAA,GAAA,gBAAA;AACA,SAAA,MAAA,CAAA,GAAA,CAAA,KAAA,GAAA,CAAA,SAAA,CAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EACA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAHA,MAGA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA;AACA;AACA,KARA;AASA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,YAPA,0BAOA;AAAA;;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,CAAA,SAAA,CAAA,IAAA,EAAA;AAAA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,WAAA,CAAA,KAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EACA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,OARA;AASA,KAjBA;AAkBA,IAAA,WAlBA,uBAkBA,IAlBA,EAkBA;AACA,WAAA,KAAA,CAAA,IAAA,EAAA,WAAA;AACA,KApBA;AAqBA,IAAA,SArBA,uBAqBA;AACA,WAAA,KAAA;AACA,WAAA,WAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,KAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAAA;AAKA,KA5BA;AA6BA,IAAA,YA7BA,wBA6BA,KA7BA,EA6BA;AACA,WAAA,WAAA,CAAA,KAAA,CAAA,KAAA,EAAA,MAAA,GAAA,CAAA;AACA;AA/BA,GAxBA;AAyDA,EAAA,OAzDA,qBAyDA,CACA;AA1DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <Card :bordered=\"false\">\r\n            <p slot=\"title\"></p>\r\n            <Form ref=\"formDynamic\" :model=\"formDynamic\" :label-width=\"80\" style=\"100%\">\r\n                <FormItem\r\n                        v-for=\"(item, index) in formDynamic.items\"\r\n                        :key=\"index\"\r\n                        :label=\"'链接 ' + item.index\"\r\n                        :rules=\"{}\"\r\n                >\r\n                    <Row>\r\n                        <Col span=\"1\" style=\"text-align: center\">名称</Col>\r\n                        <Col span=\"4\">\r\n                            <Input type=\"text\" v-model=\"item.title\" placeholder=\"名称\"></Input>\r\n                        </Col>\r\n                        <Col span=\"1\" style=\"text-align: center\">图片</Col>\r\n                        <Col span=\"4\">\r\n                            <Input type=\"text\" v-model=\"item.src\" placeholder=\"图片\"></Input>\r\n                        </Col>\r\n                        <Col span=\"1\" style=\"text-align: center\">链接</Col>\r\n                        <Col span=\"4\">\r\n                            <Input type=\"text\" v-model=\"item.href\" placeholder=\"链接\"></Input>\r\n                        </Col>\r\n                        <Col span=\"1\" style=\"text-align: center\">排序</Col>\r\n                        <Col span=\"1\">\r\n                            <Input type=\"text\" v-model=\"item.sort\" placeholder=\"排序\"></Input>\r\n                        </Col>\r\n                        <Col span=\"1\" style=\"text-align: center\">状态</Col>\r\n                        <Col span=\"1\">\r\n                            <i-switch v-model=\"item.status\" size=\"large\">\r\n                                <span slot=\"open\">开启</span>\r\n                                <span slot=\"close\">关闭</span>\r\n                            </i-switch>\r\n                        </Col>\r\n                        <div style=\"display: none\"><Input v-model=\"type\" type=\"text\"></Input></div>\r\n<!--                        <Col span=\"2\" offset=\"1\">-->\r\n<!--                            <Button @click=\"handleRemove(index)\">删除</Button>-->\r\n<!--                        </Col>-->\r\n                    </Row>\r\n<!--                    <p style=\"    padding: 10px;-->\r\n<!--    width: 200px;-->\r\n<!--    padding-left: 62px;\">-->\r\n<!--                        <Upload-->\r\n<!--                                :data=\"{index:item.index - 1}\"-->\r\n<!--                                :show-upload-list=\"false\"-->\r\n<!--                                :on-success=\"handleSuccess\"-->\r\n<!--                                :action=\"uploadUrl\"-->\r\n<!--                        >-->\r\n<!--                            <Button icon=\"ios-cloud-upload-outline\">上传</Button>-->\r\n<!--                        </Upload>-->\r\n<!--                    </p>-->\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Row>\r\n                        <Col span=\"12\">\r\n                            <Button type=\"dashed\" long @click=\"handleAdd\" icon=\"md-add\">添加更多</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Button type=\"primary\" @click=\"handleSubmit('formDynamic')\">提交</Button>\r\n                    <Button @click=\"handleReset('formDynamic')\" style=\"margin-left: 8px\">重置</Button>\r\n                </FormItem>\r\n            </Form>\r\n        </Card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data () {\r\n      return {\r\n        type: 'link',\r\n        uploadUrl: this.api.common.upload,\r\n        index: 1,\r\n        formDynamic: {\r\n          items: [\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.uploadUrl = this.uploadUrl + '?module=banner'\r\n      this.$axios.get(this.api.marketing.link)\r\n        .then((response) => {\r\n          if (response.data.code == 0)\r\n          {\r\n            this.formDynamic.items = response.data.data\r\n          }else{\r\n            this.$Message.error('数据获取失败，请检查');\r\n          }\r\n        })\r\n    },\r\n    methods: {\r\n      // handleSuccess (response) {\r\n      //   var index = response.data.additional.index\r\n      //\r\n      //   this.formDynamic.items[index].src = response.data.url\r\n      //   this.$Message.success('上传成功')\r\n      // },\r\n      handleSubmit () {\r\n        this.$axios.post(this.api.marketing.link, {data: JSON.stringify(this.formDynamic.items)})\r\n          .then((response) => {\r\n            if (response.data.code == 0)\r\n            {\r\n              this.$Message.success('提交成功');\r\n            }else{\r\n              this.$Message.error('提交失败，请重试');\r\n            }\r\n          })\r\n      },\r\n      handleReset (name) {\r\n        this.$refs[name].resetFields();\r\n      },\r\n      handleAdd () {\r\n        this.index++;\r\n        this.formDynamic.items.push({\r\n          value: '',\r\n          index: this.index,\r\n          status: 1\r\n        });\r\n      },\r\n      handleRemove (index) {\r\n        this.formDynamic.items[index].status = 0;\r\n      }\r\n    },\r\n    mounted () {\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/marketing"}]}