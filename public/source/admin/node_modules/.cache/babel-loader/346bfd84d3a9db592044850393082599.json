{"remainingRequest":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/home/donghai/Desktop/www/clover/public/source/admin/src/permission.js","dependencies":[{"path":"/home/donghai/Desktop/www/clover/public/source/admin/src/permission.js","mtime":1575338126857},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport router from \"./router\";\nimport { LoadingBar } from 'view-design';\nrouter.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, from, next) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            LoadingBar.start();\n\n            if (localStorage.getItem('token')) {\n              next();\n            } else {\n              if (to.path === '/login') {\n                next();\n              } else {\n                next(\"/login?redirect=\".concat(to.path));\n              }\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.afterEach(function () {\n  LoadingBar.finish();\n});",{"version":3,"sources":["/home/donghai/Desktop/www/clover/public/source/admin/src/permission.js"],"names":["router","LoadingBar","beforeEach","to","from","next","start","localStorage","getItem","path","afterEach","finish"],"mappings":";;AAAA,OAAOA,MAAP;AACA,SAASC,UAAT,QAA2B,aAA3B;AAEAD,MAAM,CAACE,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAChBJ,YAAAA,UAAU,CAACK,KAAX;;AACA,gBAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCH,cAAAA,IAAI;AACL,aAFD,MAEM;AACJ,kBAAIF,EAAE,CAACM,IAAH,KAAY,QAAhB,EAA0B;AACxBJ,gBAAAA,IAAI;AACL,eAFD,MAEO;AACLA,gBAAAA,IAAI,2BAAoBF,EAAE,CAACM,IAAvB,EAAJ;AACD;AACF;;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAaAT,MAAM,CAACU,SAAP,CAAiB,YAAM;AACrBT,EAAAA,UAAU,CAACU,MAAX;AACD,CAFD","sourcesContent":["import router from './router'\r\nimport { LoadingBar } from 'view-design'\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  LoadingBar.start()\r\n  if (localStorage.getItem('token')) {\r\n    next()\r\n  }else {\r\n    if (to.path === '/login') {\r\n      next()\r\n    } else {\r\n      next(`/login?redirect=${to.path}`)\r\n    }\r\n  }\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  LoadingBar.finish()\r\n})\r\n"]}]}