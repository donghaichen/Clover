{"remainingRequest":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/home/donghai/Desktop/www/clover/public/source/admin/src/views/content/File.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donghai/Desktop/www/clover/public/source/admin/src/views/content/File.vue","mtime":1574999405000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donghai/Desktop/www/clover/public/source/admin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data () {\n    return {\n      tableLoading: true,\n      tableData: [\n      ],\n      total: 0,\n      current: 0,\n      pageSize: 0,\n      showBorder: true,\n      showStripe: true,\n      showHeader: true,\n      showIndex: false,\n      showCheckbox: false,\n      fixedHeader: false,\n      tableSize: 'default'\n    }\n  },\n  created: function () {\n    this.tableData = this.getData(1)\n  },\n  methods: {\n    getData(page) {\n      this.tableLoading = true\n      page = page > 0 ? page : 0;\n      this.$axios.get(this.api.common.file + '?page=' + page)\n        .then((response) => {\n          this.tableData = response.data.data.data\n          this.current = response.data.data.current_page\n          this.total = response.data.data.total\n          this.pageSize = response.data.data.per_page\n          return this.tableData\n        })\n      this.tableLoading = false\n    },\n    changePage (index) {\n      this.getData(index)\n    }\n  },\n  computed: {\n    tableColumns () {\n      let columns = [];\n      columns.push({\n        title: '文件ID',\n        key: 'id',\n        width: 120,\n        sortable: true\n      });\n      columns.push({\n        title: '原始文件名',\n        key: 'name',\n        tooltip: true\n\n      });\n      columns.push({\n        title: '地址',\n        key: 'src',\n        tooltip: true\n      });\n      columns.push({\n        title: '类型',\n        key: 'type',\n        width: 120,\n        sortable: true,\n        tooltip: true\n      });\n      columns.push({\n        title: '大小',\n        key: 'size',\n        align: 'center',\n        tooltip: true,\n        width: 150,\n        render: (h, params) => {\n          const row = params.row;\n          const color = 'success';\n          const text = (row.size / 1024 / 1024).toFixed(4) + ' M';\n          return h('Tag', {\n            props: {\n              type: 'dot',\n              color: color\n            }\n          }, text);\n        }\n      });\n      columns.push({\n        title: '业务模块',\n        key: 'module',\n        width: 120,\n      });\n      columns.push({\n        title: '操作 IP',\n        key: 'created_ip',\n        tooltip: true,\n      });\n      columns.push({\n        title: '操作时间',\n        key: 'created_at',\n        sortable: true,\n        tooltip: true,\n      });\n      columns.push({\n        title: '操作',\n        key: 'action',\n        width: 150,\n        align: 'center',\n        render: (h, params) => {\n          return h('div', [\n            h('Button', {\n              props: {\n                type: 'primary',\n                size: 'small'\n              },\n              style: {\n                marginRight: '5px'\n              },\n              on: {\n                click: () => {\n                  window.open(this.api.static.baseUrl + params.row.src,'_blank')\n                }\n              }\n            }, '查看'),\n          ]);\n        }\n      });\n      return columns;\n    }\n  }\n}\n",{"version":3,"sources":["File.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"File.vue","sourceRoot":"src/views/content","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <Table\r\n                :loading=\"tableLoading\"\r\n                :border=\"showBorder\"\r\n                :stripe=\"showStripe\"\r\n                :show-header=\"showHeader\"\r\n                :height=\"fixedHeader ? 250 : ''\"\r\n                :size=\"tableSize\"\r\n                :data=\"tableData\"\r\n                :columns=\"tableColumns\"\r\n        >\r\n        </Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n            <div style=\"float: right;\">\r\n                <Page :total=\"total\" :current=\"current\" :page-size=\"pageSize\" show-total show-elevator @on-change=\"changePage\"></Page>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data () {\r\n      return {\r\n        tableLoading: true,\r\n        tableData: [\r\n        ],\r\n        total: 0,\r\n        current: 0,\r\n        pageSize: 0,\r\n        showBorder: true,\r\n        showStripe: true,\r\n        showHeader: true,\r\n        showIndex: false,\r\n        showCheckbox: false,\r\n        fixedHeader: false,\r\n        tableSize: 'default'\r\n      }\r\n    },\r\n    created: function () {\r\n      this.tableData = this.getData(1)\r\n    },\r\n    methods: {\r\n      getData(page) {\r\n        this.tableLoading = true\r\n        page = page > 0 ? page : 0;\r\n        this.$axios.get(this.api.common.file + '?page=' + page)\r\n          .then((response) => {\r\n            this.tableData = response.data.data.data\r\n            this.current = response.data.data.current_page\r\n            this.total = response.data.data.total\r\n            this.pageSize = response.data.data.per_page\r\n            return this.tableData\r\n          })\r\n        this.tableLoading = false\r\n      },\r\n      changePage (index) {\r\n        this.getData(index)\r\n      }\r\n    },\r\n    computed: {\r\n      tableColumns () {\r\n        let columns = [];\r\n        columns.push({\r\n          title: '文件ID',\r\n          key: 'id',\r\n          width: 120,\r\n          sortable: true\r\n        });\r\n        columns.push({\r\n          title: '原始文件名',\r\n          key: 'name',\r\n          tooltip: true\r\n\r\n        });\r\n        columns.push({\r\n          title: '地址',\r\n          key: 'src',\r\n          tooltip: true\r\n        });\r\n        columns.push({\r\n          title: '类型',\r\n          key: 'type',\r\n          width: 120,\r\n          sortable: true,\r\n          tooltip: true\r\n        });\r\n        columns.push({\r\n          title: '大小',\r\n          key: 'size',\r\n          align: 'center',\r\n          tooltip: true,\r\n          width: 150,\r\n          render: (h, params) => {\r\n            const row = params.row;\r\n            const color = 'success';\r\n            const text = (row.size / 1024 / 1024).toFixed(4) + ' M';\r\n            return h('Tag', {\r\n              props: {\r\n                type: 'dot',\r\n                color: color\r\n              }\r\n            }, text);\r\n          }\r\n        });\r\n        columns.push({\r\n          title: '业务模块',\r\n          key: 'module',\r\n          width: 120,\r\n        });\r\n        columns.push({\r\n          title: '操作 IP',\r\n          key: 'created_ip',\r\n          tooltip: true,\r\n        });\r\n        columns.push({\r\n          title: '操作时间',\r\n          key: 'created_at',\r\n          sortable: true,\r\n          tooltip: true,\r\n        });\r\n        columns.push({\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 150,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('Button', {\r\n                props: {\r\n                  type: 'primary',\r\n                  size: 'small'\r\n                },\r\n                style: {\r\n                  marginRight: '5px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    window.open(this.api.static.baseUrl + params.row.src,'_blank')\r\n                  }\r\n                }\r\n              }, '查看'),\r\n            ]);\r\n          }\r\n        });\r\n        return columns;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}